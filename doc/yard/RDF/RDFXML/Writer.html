<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RDF::RDFXML::Writer
  
    &mdash; Web portal for RDF.rb.
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!RDF/RDFXML/Writer.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (W)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../RDF.html" title="RDF (module)">RDF</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../RDFXML.html" title="RDF::RDFXML (module)">RDFXML</a></span></span>
     &raquo; 
    <span class="title">Writer</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RDF::RDFXML::Writer
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../RDFa/Writer.html" title="RDF::RDFa::Writer (class)">RDF::RDFa::Writer</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next"><span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">Writer</a></span></li>
          
            <li class="next"><span class='object_link'><a href="../RDFa/Writer.html" title="RDF::RDFa::Writer (class)">RDF::RDFa::Writer</a></span></li>
          
            <li class="next">RDF::RDFXML::Writer</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb<span class="defines">,<br />
  vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer/haml_templates.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>An RDF/XML serialiser in Ruby</p>

<p>Note that the natural interface is to write a whole graph at a time.
Writing statements or Triples will create a graph to add them to
and then serialize the graph.</p>

<p>The writer will add prefix definitions, and use them for creating @prefix definitions, and minting QNames</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Obtaining a RDF/XML writer class</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>RDF</span><span class='op'>::</span><span class='const'>Writer</span><span class='period'>.</span><span class='id identifier rubyid_for'>for</span><span class='lparen'>(</span><span class='symbol'>:rdf</span><span class='rparen'>)</span>         <span class='comment'>#=&gt; RDF::RDFXML::Writer
</span><span class='const'>RDF</span><span class='op'>::</span><span class='const'>Writer</span><span class='period'>.</span><span class='id identifier rubyid_for'>for</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etc/test.rdf</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>RDF</span><span class='op'>::</span><span class='const'>Writer</span><span class='period'>.</span><span class='id identifier rubyid_for'>for</span><span class='lparen'>(</span><span class='symbol'>:file_name</span>      <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etc/test.rdf</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>RDF</span><span class='op'>::</span><span class='const'>Writer</span><span class='period'>.</span><span class='id identifier rubyid_for'>for</span><span class='lparen'>(</span><span class='symbol'>:file_extension</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rdf</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'>RDF</span><span class='op'>::</span><span class='const'>Writer</span><span class='period'>.</span><span class='id identifier rubyid_for'>for</span><span class='lparen'>(</span><span class='symbol'>:content_type</span>   <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application/rdf+xml</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Serializing RDF graph into an RDF/XML file</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>RDF</span><span class='op'>::</span><span class='const'>RDFXML</span><span class='op'>::</span><span class='const'>Write</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etc/test.rdf</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_writer'>writer</span><span class='op'>|</span>
  <span class='id identifier rubyid_writer'>writer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_graph'>graph</span>
<span class='kw'>end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Serializing RDF statements into an RDF/XML file</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>RDF</span><span class='op'>::</span><span class='const'>RDFXML</span><span class='op'>::</span><span class='const'>Writer</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etc/test.rdf</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_writer'>writer</span><span class='op'>|</span>
  <span class='id identifier rubyid_graph'>graph</span><span class='period'>.</span><span class='id identifier rubyid_each_statement'>each_statement</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_statement'>statement</span><span class='op'>|</span>
    <span class='id identifier rubyid_writer'>writer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_statement'>statement</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Serializing RDF statements into an RDF/XML string</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>RDF</span><span class='op'>::</span><span class='const'>RDFXML</span><span class='op'>::</span><span class='const'>Writer</span><span class='period'>.</span><span class='id identifier rubyid_buffer'>buffer</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_writer'>writer</span><span class='op'>|</span>
  <span class='id identifier rubyid_graph'>graph</span><span class='period'>.</span><span class='id identifier rubyid_each_statement'>each_statement</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_statement'>statement</span><span class='op'>|</span>
    <span class='id identifier rubyid_writer'>writer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_statement'>statement</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Creating @base and @prefix definitions in output</p>
</div></p>
      
      <pre class="example code"><code><span class='const'>RDF</span><span class='op'>::</span><span class='const'>RDFXML</span><span class='op'>::</span><span class='const'>Writer</span><span class='period'>.</span><span class='id identifier rubyid_buffer'>buffer</span><span class='lparen'>(</span><span class='symbol'>:base_uri</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:prefixes</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
    <span class='kw'>nil</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://example.com/ns#</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='symbol'>:foaf</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://xmlns.com/foaf/0.1/</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
<span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_writer'>writer</span><span class='op'>|</span>
  <span class='id identifier rubyid_graph'>graph</span><span class='period'>.</span><span class='id identifier rubyid_each_statement'>each_statement</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_statement'>statement</span><span class='op'>|</span>
    <span class='id identifier rubyid_writer'>writer</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_statement'>statement</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Author:</p>
<ul class="author">
  
    <li>
      
      
      
      
        
        <div class='inline'><p><a href="http://kellogg-assoc.com/">Gregg Kellogg</a></p>
</div>
      
    </li>
  
</ul>

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="BASE_HAML-constant" class="">BASE_HAML =
          <div class="docstring">
  <div class="discussion">
    <p>The default set of HAML templates used for RDFa code generation</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
 <span class='symbol'>:identifier</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>base</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> 
  <span class='comment'># Document
</span>  <span class='comment'># Locals: lang, title, prefix, base, subjects
</span>  <span class='comment'># Yield: subjects.each
</span>  <span class='symbol'>:doc</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>%q(</span><span class='tstring_content'>
    = %(&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39; ?&gt;)
    - if stylesheet
      = %(&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;#{stylesheet}&quot;?&gt;)
    %rdf:RDF{prefix_attrs.merge(&quot;xml:lang&quot; =&gt; lang, &quot;xml:base&quot; =&gt; base)}
      - subjects.each do |subject|
        != yield(subject)
  </span><span class='tstring_end'>)</span></span><span class='comma'>,</span>

  <span class='comment'># Output for non-leaf resources
</span>  <span class='comment'># Note that @about may be omitted for Nodes that are not referenced
</span>  <span class='comment'>#
</span>  <span class='comment'># If _rel_ and _resource_ are not nil, the tag will be written relative
</span>  <span class='comment'># to a previous subject. If _element_ is :li, the tag will be written
</span>  <span class='comment'># with &lt;li&gt; instead of &lt;div&gt;.
</span>  <span class='comment'>#
</span>  <span class='comment'># Locals: subject, typeof, predicates, rel, element, inlist, attr_props
</span>  <span class='comment'># Yield: predicates.each
</span>  <span class='symbol'>:subject</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>%q(</span><span class='tstring_content'>
    - first_type, *types = typeof.to_s.split(&#39; &#39;)
    - (types.unshift(first_type); first_type = nil) if first_type &amp;&amp; (first_type.include?(&#39;/&#39;) || first_type.start_with?(&#39;_:&#39;))
    - first_type ||= get_qname(RDF.Description)
    - first_type = first_type[1..-1] if first_type.to_s.start_with?(&quot;:&quot;)
    - attr_props = attr_props.merge(get_qname(RDF.nodeID) =&gt; subject.id) if subject.node? &amp;&amp; ref_count(subject) &gt;= 1
    - attr_props = attr_props.merge(get_qname(RDF.about) =&gt; relativize(subject)) if subject.uri?
    - haml_tag(first_type, attr_props) do
      - types.each do |type|
        - expanded_type = expand_curie(type)
        - if expanded_type.start_with?(&#39;_:&#39;)
          - haml_tag(get_qname(RDF.type), &quot;rdf:nodeID&quot; =&gt; expanded_type[2..-1])
        -else
          - haml_tag(get_qname(RDF.type), &quot;rdf:resource&quot; =&gt; expanded_type)
      - predicates.each do |p|
        = yield(p)
  </span><span class='tstring_end'>)</span></span><span class='comma'>,</span>

  <span class='comment'># Output for single-valued properties
</span>  <span class='comment'># Locals: predicate, object, inlist
</span>  <span class='comment'># Yields: object
</span>  <span class='comment'># If nil is returned, render as a leaf
</span>  <span class='comment'># Otherwise, render result
</span>  <span class='symbol'>:property_value</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>%q(</span><span class='tstring_content'>
  - if recurse &amp;&amp; res = yield(object)
    - haml_tag(property) do
      = res
  - elsif object.literal? &amp;&amp; object.datatype == RDF.XMLLiteral
    - haml_tag(property, :&quot;&lt;&quot;, &quot;rdf:parseType&quot; =&gt; &quot;Literal&quot;) do
      = object.value
  - elsif object.literal?
    - haml_tag(property, :&quot;&lt;&quot;, &quot;xml:lang&quot; =&gt; object.language, &quot;rdf:datatype&quot; =&gt; (object.datatype unless object.plain?)) do
      = object.value.to_s.encode(xml: :text)
  - elsif object.node?
    - haml_tag(property, :&quot;/&quot;, &quot;rdf:nodeID&quot; =&gt; object.id)
  - else
    - haml_tag(property, :&quot;/&quot;, &quot;rdf:resource&quot; =&gt; relativize(object))
  </span><span class='tstring_end'>)</span></span><span class='comma'>,</span>

  <span class='comment'># Outpust for a list
</span>  <span class='comment'># Locals: predicate, list
</span>  <span class='comment'># Yields: object
</span>  <span class='comment'># If nil is returned, render as a leaf
</span>  <span class='comment'># Otherwise, render result
</span>  <span class='symbol'>:collection</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>%q(</span><span class='tstring_content'>
    - haml_tag(property, get_qname(RDF.parseType) =&gt; &quot;Collection&quot;) do
      - list.each do |object|
        - if recurse &amp;&amp; res = yield(object)
          = res
        - elsif object.node?
          - haml_tag(get_qname(RDF.Description), :&quot;/&quot;, &quot;rdf:nodeID&quot; =&gt; (object.id if ref_count(object) &gt; 1))
        - else
          - haml_tag(get_qname(RDF.Description), :&quot;/&quot;, &quot;rdf:about&quot; =&gt; relativize(object))
  </span><span class='tstring_end'>)</span></span><span class='comma'>,</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="HAML_TEMPLATES-constant" class="">HAML_TEMPLATES =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='symbol'>:base</span> <span class='op'>=&gt;</span> <span class='const'>BASE_HAML</span><span class='rbrace'>}</span></pre></dd>
      
        <dt id="DEFAULT_HAML-constant" class="">DEFAULT_HAML =
          
        </dt>
        <dd><pre class="code"><span class='const'>BASE_HAML</span></pre></dd>
      
        <dt id="VALID_ATTRIBUTES-constant" class="">VALID_ATTRIBUTES =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='symbol'>:none</span><span class='comma'>,</span> <span class='symbol'>:untyped</span><span class='comma'>,</span> <span class='symbol'>:typed</span><span class='rbracket'>]</span></pre></dd>
      
    </dl>
  



  
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="../RDFa/Writer.html" title="RDF::RDFa::Writer (class)">RDF::RDFa::Writer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../RDFa/Writer.html#DISTILLER_HAML-constant" title="RDF::RDFa::Writer::DISTILLER_HAML (constant)">RDF::RDFa::Writer::DISTILLER_HAML</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#HAML_OPTIONS-constant" title="RDF::RDFa::Writer::HAML_OPTIONS (constant)">RDF::RDFa::Writer::HAML_OPTIONS</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#MIN_HAML-constant" title="RDF::RDFa::Writer::MIN_HAML (constant)">RDF::RDFa::Writer::MIN_HAML</a></span></p>




  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../RDFa/Writer.html" title="RDF::RDFa::Writer (class)">RDF::RDFa::Writer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../RDFa/Writer.html#base_uri-instance_method" title="RDF::RDFa::Writer#base_uri (method)">#base_uri</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#graph-instance_method" title="RDF::RDFa::Writer#graph (method)">#graph</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#heading_predicates-instance_method" title="RDF::RDFa::Writer#heading_predicates (method)">#heading_predicates</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#predicate_order-instance_method" title="RDF::RDFa::Writer#predicate_order (method)">#predicate_order</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#top_classes-instance_method" title="RDF::RDFa::Writer#top_classes (method)">#top_classes</a></span></p>

  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">Writer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Writer.html#options-instance_method" title="RDF::Writer#options (method)">#options</a></span></p>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#ensure_curie-instance_method" title="#ensure_curie (instance method)">- (Object) <strong>ensure_curie</strong>(resource) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Make sure a CURIE is defined.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#expand_curie-instance_method" title="#expand_curie (instance method)">- (RDF::URI) <strong>expand_curie</strong>(curie) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Undo CURIE.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#get_qname-instance_method" title="#get_qname (instance method)">- (Object) <strong>get_qname</strong>(uri) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Turn CURIE into a QNAME.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#haml_template-instance_method" title="#haml_template (instance method)">- (Hash&lt;Symbol =&gt; String&gt;) <strong>haml_template</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Writer) <strong>initialize</strong>(output = $stdout, options = {}) {|writer| ... }</a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initializes the RDF/XML writer instance.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#predicate_as_attribute%3F-instance_method" title="#predicate_as_attribute? (instance method)">- (Boolean) <strong>predicate_as_attribute?</strong>(prop, object) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>See if we can serialize as attribute.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#prefix_attrs-instance_method" title="#prefix_attrs (instance method)">- (Hash{String =&gt; String}) <strong>prefix_attrs</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>XML namespace attributes for defined prefixes.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#preprocess-instance_method" title="#preprocess (instance method)">- (ignored) <strong>preprocess</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Perform any preprocessing of statements required.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#preprocess_statement-instance_method" title="#preprocess_statement (instance method)">- (Object) <strong>preprocess_statement</strong>(statement) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Perform any statement preprocessing required.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#relativize-instance_method" title="#relativize (instance method)">- (String) <strong>relativize</strong>(uri) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>If base_uri is defined, use it to try to make uri relative.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#render_collection-instance_method" title="#render_collection (instance method)">- (Object) <strong>render_collection</strong>(predicate, list, options = {}) {|object| ... }</a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Render a collection, which may be included in a property declaration, or may be recursive within another collection.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#render_document-instance_method" title="#render_document (instance method)">- (Object) <strong>render_document</strong>(subjects, options = {}) {|subject| ... }</a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Render document using <code>haml_template[:doc]</code>.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#render_property-instance_method" title="#render_property (instance method)">- (Object) <strong>render_property</strong>(predicate, objects, options = {}) {|object, inlist| ... }</a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Render a single- or multi-valued predicate using <code>haml_template[:property_value]</code> or <code>haml_template[:property_values]</code>.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#render_subject-instance_method" title="#render_subject (instance method)">- (Object) <strong>render_subject</strong>(subject, predicates, options = {}) {|predicate| ... }</a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Render a subject using <code>haml_template[:subject]</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#write_epilogue-instance_method" title="#write_epilogue (instance method)">- (Object) <strong>write_epilogue</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../RDFa/Writer.html" title="RDF::RDFa::Writer (class)">RDF::RDFa::Writer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../RDFa/Writer.html#get_content-instance_method" title="RDF::RDFa::Writer#get_content (method)">#get_content</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#get_curie-instance_method" title="RDF::RDFa::Writer#get_curie (method)">#get_curie</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#get_dt_curie-instance_method" title="RDF::RDFa::Writer#get_dt_curie (method)">#get_dt_curie</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#get_lang-instance_method" title="RDF::RDFa::Writer#get_lang (method)">#get_lang</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#get_predicate_name-instance_method" title="RDF::RDFa::Writer#get_predicate_name (method)">#get_predicate_name</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#get_value-instance_method" title="RDF::RDFa::Writer#get_value (method)">#get_value</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#order_properties-instance_method" title="RDF::RDFa::Writer#order_properties (method)">#order_properties</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#order_subjects-instance_method" title="RDF::RDFa::Writer#order_subjects (method)">#order_subjects</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#predicate-instance_method" title="RDF::RDFa::Writer#predicate (method)">#predicate</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#properties_for_subject-instance_method" title="RDF::RDFa::Writer#properties_for_subject (method)">#properties_for_subject</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#render_subject_template-instance_method" title="RDF::RDFa::Writer#render_subject_template (method)">#render_subject_template</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#reset-instance_method" title="RDF::RDFa::Writer#reset (method)">#reset</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#subject-instance_method" title="RDF::RDFa::Writer#subject (method)">#subject</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#type_of-instance_method" title="RDF::RDFa::Writer#type_of (method)">#type_of</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#write_graph-instance_method" title="RDF::RDFa::Writer#write_graph (method)">#write_graph</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#write_statement-instance_method" title="RDF::RDFa::Writer#write_statement (method)">#write_statement</a></span>, <span class='object_link'><a href="../RDFa/Writer.html#write_triple-instance_method" title="RDF::RDFa::Writer#write_triple (method)">#write_triple</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">Writer</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Writer.html#base_uri-instance_method" title="RDF::Writer#base_uri (method)">#base_uri</a></span>, <span class='object_link'><a href="../Writer.html#buffer-class_method" title="RDF::Writer.buffer (method)">buffer</a></span>, <span class='object_link'><a href="../Writer.html#canonicalize%3F-instance_method" title="RDF::Writer#canonicalize? (method)">#canonicalize?</a></span>, <span class='object_link'><a href="../Writer.html#dump-class_method" title="RDF::Writer.dump (method)">dump</a></span>, <span class='object_link'><a href="../Writer.html#each-class_method" title="RDF::Writer.each (method)">each</a></span>, <span class='object_link'><a href="../Writer.html#encoding-instance_method" title="RDF::Writer#encoding (method)">#encoding</a></span>, <span class='object_link'><a href="../Writer.html#escaped-instance_method" title="RDF::Writer#escaped (method)">#escaped</a></span>, <span class='object_link'><a href="../Writer.html#flush-instance_method" title="RDF::Writer#flush (method)">#flush</a></span>, <span class='object_link'><a href="../Writer.html#for-class_method" title="RDF::Writer.for (method)">for</a></span>, <span class='object_link'><a href="../Writer.html#format-class_method" title="RDF::Writer.format (method)">format</a></span>, <span class='object_link'><a href="../Writer.html#format_list-instance_method" title="RDF::Writer#format_list (method)">#format_list</a></span>, <span class='object_link'><a href="../Writer.html#format_literal-instance_method" title="RDF::Writer#format_literal (method)">#format_literal</a></span>, <span class='object_link'><a href="../Writer.html#format_node-instance_method" title="RDF::Writer#format_node (method)">#format_node</a></span>, <span class='object_link'><a href="../Writer.html#format_term-instance_method" title="RDF::Writer#format_term (method)">#format_term</a></span>, <span class='object_link'><a href="../Writer.html#format_uri-instance_method" title="RDF::Writer#format_uri (method)">#format_uri</a></span>, <span class='object_link'><a href="../Writer.html#node_id-instance_method" title="RDF::Writer#node_id (method)">#node_id</a></span>, <span class='object_link'><a href="../Writer.html#open-class_method" title="RDF::Writer.open (method)">open</a></span>, <span class='object_link'><a href="../Writer.html#prefix-instance_method" title="RDF::Writer#prefix (method)">#prefix</a></span>, <span class='object_link'><a href="../Writer.html#prefixes-instance_method" title="RDF::Writer#prefixes (method)">#prefixes</a></span>, <span class='object_link'><a href="../Writer.html#prefixes%3D-instance_method" title="RDF::Writer#prefixes= (method)">#prefixes=</a></span>, <span class='object_link'><a href="../Writer.html#puts-instance_method" title="RDF::Writer#puts (method)">#puts</a></span>, <span class='object_link'><a href="../Writer.html#quoted-instance_method" title="RDF::Writer#quoted (method)">#quoted</a></span>, <span class='object_link'><a href="../Writer.html#to_sym-instance_method" title="RDF::Writer#to_sym (method)">#to_sym</a></span>, <span class='object_link'><a href="../Writer.html#to_sym-class_method" title="RDF::Writer.to_sym (method)">to_sym</a></span>, <span class='object_link'><a href="../Writer.html#uri_for-instance_method" title="RDF::Writer#uri_for (method)">#uri_for</a></span>, <span class='object_link'><a href="../Writer.html#validate%3F-instance_method" title="RDF::Writer#validate? (method)">#validate?</a></span>, <span class='object_link'><a href="../Writer.html#write_comment-instance_method" title="RDF::Writer#write_comment (method)">#write_comment</a></span>, <span class='object_link'><a href="../Writer.html#write_graph-instance_method" title="RDF::Writer#write_graph (method)">#write_graph</a></span>, <span class='object_link'><a href="../Writer.html#write_prologue-instance_method" title="RDF::Writer#write_prologue (method)">#write_prologue</a></span>, <span class='object_link'><a href="../Writer.html#write_statement-instance_method" title="RDF::Writer#write_statement (method)">#write_statement</a></span>, <span class='object_link'><a href="../Writer.html#write_statements-instance_method" title="RDF::Writer#write_statements (method)">#write_statements</a></span>, <span class='object_link'><a href="../Writer.html#write_triple-instance_method" title="RDF::Writer#write_triple (method)">#write_triple</a></span>, <span class='object_link'><a href="../Writer.html#write_triples-instance_method" title="RDF::Writer#write_triples (method)">#write_triples</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Util/Aliasing/LateBound.html" title="RDF::Util::Aliasing::LateBound (module)">Util::Aliasing::LateBound</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Util/Aliasing/LateBound.html#alias_method-instance_method" title="RDF::Util::Aliasing::LateBound#alias_method (method)">#alias_method</a></span></p>

  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Writable.html" title="RDF::Writable (module)">Writable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Writable.html#%3C%3C-instance_method" title="RDF::Writable#&lt;&lt; (method)">#<<</a></span>, <span class='object_link'><a href="../Writable.html#insert-instance_method" title="RDF::Writable#insert (method)">#insert</a></span>, <span class='object_link'><a href="../Writable.html#insert_graph-instance_method" title="RDF::Writable#insert_graph (method)">#insert_graph</a></span>, <span class='object_link'><a href="../Writable.html#insert_reader-instance_method" title="RDF::Writable#insert_reader (method)">#insert_reader</a></span>, <span class='object_link'><a href="../Writable.html#insert_statement-instance_method" title="RDF::Writable#insert_statement (method)">#insert_statement</a></span>, <span class='object_link'><a href="../Writable.html#insert_statements-instance_method" title="RDF::Writable#insert_statements (method)">#insert_statements</a></span>, <span class='object_link'><a href="../Writable.html#writable%3F-instance_method" title="RDF::Writable#writable? (method)">#writable?</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="RDF::RDFXML::Writer (class)">Writer</a></span></tt>) <strong>initialize</strong>(output = $stdout, options = {}) {|writer| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Initializes the RDF/XML writer instance.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>output</span>
      
      
        <span class='type'>(<tt>IO</tt>, <tt>File</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$stdout</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the output stream</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>any additional options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:canonicalize</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>whether to canonicalize literals when serializing</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:prefixes</span>
          <span class="type">(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Hash.new</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>the prefix mappings to use (not supported by all writers)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:base_uri</span>
          <span class="type">(<tt>#to_s</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>the base URI to use when constructing relative URIs</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:max_depth</span>
          <span class="type">(<tt><span class='object_link'><a href="../../Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>10</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Maximum depth for recursively defining resources</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:lang</span>
          <span class="type">(<tt>#to_s</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Output as root xml:lang attribute, and avoid generation <em>xml:lang</em> where possible</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:attributes</span>
          <span class="type">(<tt><span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>How to use XML attributes when serializing, one of :none, :untyped, :typed. The default is :none.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:standard_prefixes</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Add standard prefixes to <em>prefixes</em>, if necessary.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:default_namespace</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>URI to use as default namespace, same as prefix(nil)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:stylesheet</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>URI to use as @href for output stylesheet processing instruction.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>writer</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>writer</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Writer.html" title="RDF::Writer (class)">RDF::Writer</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 82</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span> <span class='op'>=</span> <span class='gvar'>$stdout</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="ensure_curie-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>ensure_curie</strong>(resource)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Make sure a CURIE is defined</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 356</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ensure_curie'>ensure_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_resource'>resource</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_get_curie'>get_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_resource'>resource</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>||</span> <span class='id identifier rubyid_get_curie'>get_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_resource'>resource</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>:</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>[\.#]</span><span class='regexp_end'>/</span></span>
    <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='id identifier rubyid_resource'>resource</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='comment'># No vocabulary found, invent one
</span>    <span class='comment'># Add bindings for predicates not already having bindings
</span>    <span class='comment'># From RDF/XML Syntax and Processing:
</span>    <span class='comment'>#   An XML namespace-qualified name (QName) has restrictions on the legal characters such that not all property URIs can be expressed as these names. It is recommended that implementors of RDF serializers, in order to break a URI into a namespace name and a local name, split it after the last XML non-NCName character, ensuring that the first character of the name is a Letter or &#39;_&#39;. If the URI ends in a non-NCName character then throw a &quot;this graph cannot be serialized in RDF/XML&quot; exception or error.
</span>    <span class='id identifier rubyid_separation'>separation</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_rindex'>rindex</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>[^a-zA-Z_0-9-][a-zA-Z_][a-z0-9A-Z_-]*$</span><span class='regexp_end'>}</span></span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='ivar'>@uri_to_prefix</span><span class='lbracket'>[</span><span class='id identifier rubyid_uri'>uri</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_separation'>separation</span>
    <span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>..</span><span class='id identifier rubyid_separation'>separation</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_suffix'>suffix</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lbracket'>[</span><span class='id identifier rubyid_separation'>separation</span><span class='op'>+</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='ivar'>@gen_prefix</span> <span class='op'>=</span> <span class='ivar'>@gen_prefix</span> <span class='op'>?</span> <span class='ivar'>@gen_prefix</span><span class='period'>.</span><span class='id identifier rubyid_succ'>succ</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ns0</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_add_debug'>add_debug</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ensure_curie: generated prefix </span><span class='embexpr_beg'>#{</span><span class='ivar'>@gen_prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'> for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_base_uri'>base_uri</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
    <span class='ivar'>@uri_to_prefix</span><span class='lbracket'>[</span><span class='id identifier rubyid_base_uri'>base_uri</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@gen_prefix</span>
    <span class='ivar'>@uri_to_term_or_curie</span><span class='lbracket'>[</span><span class='id identifier rubyid_uri'>uri</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@gen_prefix</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_suffix'>suffix</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_prefix'>prefix</span><span class='lparen'>(</span><span class='ivar'>@gen_prefix</span><span class='comma'>,</span> <span class='id identifier rubyid_base_uri'>base_uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_get_curie'>get_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_resource'>resource</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expand_curie-instance_method">
  
    - (<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>) <strong>expand_curie</strong>(curie)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Undo CURIE</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


386
387
388
389</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 386</span>

<span class='kw'>def</span> <span class='id identifier rubyid_expand_curie'>expand_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_curie'>curie</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pfx'>pfx</span><span class='comma'>,</span> <span class='id identifier rubyid_suffix'>suffix</span> <span class='op'>=</span> <span class='id identifier rubyid_curie'>curie</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_prefix'>prefix</span><span class='lparen'>(</span><span class='id identifier rubyid_pfx'>pfx</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_prefix'>prefix</span><span class='lparen'>(</span><span class='id identifier rubyid_pfx'>pfx</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_suffix'>suffix</span> <span class='op'>:</span> <span class='id identifier rubyid_curie'>curie</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_qname-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>get_qname</strong>(uri)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Turn CURIE into a QNAME</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


338
339
340
341</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 338</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_qname'>get_qname</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_curie'>curie</span> <span class='op'>=</span> <span class='id identifier rubyid_get_curie'>get_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_curie'>curie</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_curie'>curie</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='id identifier rubyid_curie'>curie</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="haml_template-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&lt;<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>) <strong>haml_template</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>&lt;<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 87</span>

<span class='kw'>def</span> <span class='id identifier rubyid_haml_template'>haml_template</span>
  <span class='kw'>return</span> <span class='ivar'>@haml_template</span> <span class='kw'>if</span> <span class='ivar'>@haml_template</span>
  <span class='kw'>case</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:haml</span><span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='const'>Hash</span>             <span class='kw'>then</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:haml</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>                       <span class='const'>DEFAULT_HAML</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="predicate_as_attribute?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>predicate_as_attribute?</strong>(prop, object)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>See if we can serialize as attribute.</p>

<ul>
<li>untyped attributes that aren&#39;t duplicated where xml:lang == @lang</li>
<li>typed attributes that aren&#39;t duplicated if @dt_as_attr is true</li>
<li>rdf:type</li>
</ul>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166
167
168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 164</span>

<span class='kw'>def</span> <span class='id identifier rubyid_predicate_as_attribute?'>predicate_as_attribute?</span><span class='lparen'>(</span><span class='id identifier rubyid_prop'>prop</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span>
  <span class='lbracket'>[</span><span class='symbol'>:untyped</span><span class='comma'>,</span> <span class='symbol'>:typed</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='ivar'>@attributes</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span>
    <span class='id identifier rubyid_prop'>prop</span> <span class='op'>==</span> <span class='const'>RDF</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span> <span class='op'>||</span>
    <span class='lbracket'>[</span><span class='symbol'>:typed</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='ivar'>@attributes</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_literal?'>literal?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_typed?'>typed?</span> <span class='op'>||</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_literal?'>literal?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_simple?'>simple?</span> <span class='op'>||</span> <span class='ivar'>@lang</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_language'>language</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>==</span> <span class='ivar'>@lang</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prefix_attrs-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>}</tt>) <strong>prefix_attrs</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>XML namespace attributes for defined prefixes</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../../String.html" title="String (class)">String</a></span>}</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


304
305
306
307
308
309</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 304</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prefix_attrs'>prefix_attrs</span>
  <span class='id identifier rubyid_prefixes'>prefixes</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_memo'>memo</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span><span class='op'>|</span>
    <span class='id identifier rubyid_memo'>memo</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>xmlns</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_memo'>memo</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="preprocess-instance_method">
  
    - (<tt>ignored</tt>) <strong>preprocess</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Perform any preprocessing of statements required</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>ignored</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 313</span>

<span class='kw'>def</span> <span class='id identifier rubyid_preprocess'>preprocess</span>
  <span class='comment'># Load defined prefixes
</span>  <span class='lparen'>(</span><span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:prefixes</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
    <span class='ivar'>@uri_to_prefix</span><span class='lbracket'>[</span><span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_k'>k</span>
  <span class='kw'>end</span>
  <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:prefixes</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>  <span class='comment'># Will define actual used when matched
</span>
  <span class='id identifier rubyid_prefix'>prefix</span><span class='lparen'>(</span><span class='symbol'>:rdf</span><span class='comma'>,</span> <span class='const'>RDF</span><span class='period'>.</span><span class='id identifier rubyid_to_uri'>to_uri</span><span class='rparen'>)</span>
  <span class='ivar'>@uri_to_prefix</span><span class='lbracket'>[</span><span class='const'>RDF</span><span class='period'>.</span><span class='id identifier rubyid_to_uri'>to_uri</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='symbol'>:rdf</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>||</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:lang</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_prefix'>prefix</span><span class='lparen'>(</span><span class='symbol'>:xml</span><span class='comma'>,</span> <span class='const'>RDF</span><span class='op'>::</span><span class='const'>XML</span><span class='rparen'>)</span>
    <span class='ivar'>@uri_to_prefix</span><span class='lbracket'>[</span><span class='const'>RDF</span><span class='op'>::</span><span class='const'>XML</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='symbol'>:xml</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:default_namespace</span><span class='rbracket'>]</span>
    <span class='ivar'>@uri_to_prefix</span><span class='lbracket'>[</span><span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:default_namespace</span><span class='rbracket'>]</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_prefix'>prefix</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:default_namespace</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Process each statement to establish CURIEs and Terms
</span>  <span class='ivar'>@graph</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_statement'>statement</span><span class='op'>|</span> <span class='id identifier rubyid_preprocess_statement'>preprocess_statement</span><span class='lparen'>(</span><span class='id identifier rubyid_statement'>statement</span><span class='rparen'>)</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="preprocess_statement-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>preprocess_statement</strong>(statement)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Perform any statement preprocessing required. This is used to perform reference counts and determine required prefixes.</p>

<p>For RDF/XML, make sure that all predicates have CURIEs</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>statement</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Statement.html" title="RDF::Statement (class)">Statement</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


347
348
349
350
351
352
353</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 347</span>

<span class='kw'>def</span> <span class='id identifier rubyid_preprocess_statement'>preprocess_statement</span><span class='lparen'>(</span><span class='id identifier rubyid_statement'>statement</span><span class='rparen'>)</span>
  <span class='kw'>super</span>

  <span class='comment'># Invent a prefix for the predicate, if necessary
</span>  <span class='id identifier rubyid_ensure_curie'>ensure_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_statement'>statement</span><span class='period'>.</span><span class='id identifier rubyid_predicate'>predicate</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ensure_curie'>ensure_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_statement'>statement</span><span class='period'>.</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_statement'>statement</span><span class='period'>.</span><span class='id identifier rubyid_predicate'>predicate</span> <span class='op'>==</span> <span class='const'>RDF</span><span class='period'>.</span><span class='id identifier rubyid_type'>type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="relativize-instance_method">
  
    - (<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>) <strong>relativize</strong>(uri)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>If base_uri is defined, use it to try to make uri relative</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>uri</span>
      
      
        <span class='type'>(<tt>#to_s</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


379
380
381
382</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 379</span>

<span class='kw'>def</span> <span class='id identifier rubyid_relativize'>relativize</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='id identifier rubyid_expand_curie'>expand_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base_uri'>base_uri</span> <span class='op'>?</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='id identifier rubyid_base_uri'>base_uri</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_uri'>uri</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_collection-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>render_collection</strong>(predicate, list, options = {}) {|object| ... } <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Render a collection, which may be included in a property declaration, or
may be recursive within another collection</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>predicate</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>list</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../List.html" title="RDF::List (class)">RDF::List</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>object
Yields object, unless it is an included list</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>object</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">RDF::Resource</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The block should only return a string for recursive object definitions.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>String
The rendered collection is returned as a string</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


288
289
290
291
292
293
294
295
296
297
298
299
300</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 288</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_collection'>render_collection</span><span class='lparen'>(</span><span class='id identifier rubyid_predicate'>predicate</span><span class='comma'>,</span> <span class='id identifier rubyid_list'>list</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:haml</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_haml_template'>haml_template</span><span class='lbracket'>[</span><span class='symbol'>:collection</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>list:</span>       <span class='id identifier rubyid_list'>list</span><span class='comma'>,</span>
    <span class='label'>predicate:</span>  <span class='id identifier rubyid_predicate'>predicate</span><span class='comma'>,</span>
    <span class='label'>property:</span>   <span class='id identifier rubyid_get_qname'>get_qname</span><span class='lparen'>(</span><span class='id identifier rubyid_predicate'>predicate</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='label'>recurse:</span>    <span class='ivar'>@depth</span> <span class='op'>&lt;=</span> <span class='ivar'>@max_depth</span><span class='comma'>,</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_hamlify'>hamlify</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_object'>object</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_document-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>render_document</strong>(subjects, options = {}) {|subject| ... } <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Render document using <code>haml_template[:doc]</code>. Yields each subject to be rendered separately.</p>

<p>For RDF/XML pass along a stylesheet option.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>subjects</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">RDF::Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Ordered list of subjects. Template must yield to each subject, which returns
the serialization of that subject (@see #subject_template)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Rendering options passed to Haml render.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">base</span>
          <span class="type">(<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Base URI added to document, used for shortening URIs within the document.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">language</span>
          <span class="type">(<tt><span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span></tt>, <tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Value of @lang attribute in document, also allows included literals to omit
an @lang attribute if it is equivalent to that of the document.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">title</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Value of html&gt;head&gt;title element.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">prefix</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Value of @prefix attribute.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">haml</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>haml_template[:doc]</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Haml template to render.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>subject</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Yields each subject</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>subject</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>:ignored</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>String
The rendered document is returned as a string</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_document'>render_document</span><span class='lparen'>(</span><span class='id identifier rubyid_subjects'>subjects</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_subjects'>subjects</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:stylesheet</span> <span class='op'>=&gt;</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:stylesheet</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_property-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>render_property</strong>(predicate, objects, options = {}) {|object, inlist| ... } <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Render a single- or multi-valued predicate using <code>haml_template[:property_value]</code> or <code>haml_template[:property_values]</code>. Yields each object for optional rendering. The block should only render for recursive subject definitions (i.e., where the object is also a subject and is rendered underneath the first referencing subject).</p>

<p>For RDF/XML, pass the <code>:no_list_literals</code> option onto the <code>RDFa</code> implementation because of special considerations for lists in RDF/XML.</p>

<p>If a multi-valued property definition is not found within the template, the writer will use the single-valued property definition multiple times.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>predicate</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">RDF::Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Predicate to render.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>objects</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">RDF::Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>List of objects to render. If the list contains only a single element, the :property_value template will be used. Otherwise, the :property_values template is used.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Rendering options passed to Haml render.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:haml</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>haml_template[:property_value]</tt>, <tt>haml_template[:property_values]</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Haml template to render. Otherwise, uses <code>haml_template[:property_value] or haml_template[:property_values]</code>
depending on the cardinality of objects.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:no_list_literals</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>Do not serialize as a list if any elements are literal.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>object, inlist
Yields object and if it is contained in a list.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>object</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">RDF::Resource</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>inlist</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The block should only return a string for recursive object definitions.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>String
The rendered document is returned as a string</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 225</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_property'>render_property</span><span class='lparen'>(</span><span class='id identifier rubyid_predicate'>predicate</span><span class='comma'>,</span> <span class='id identifier rubyid_objects'>objects</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add_debug'>add_debug</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>render_property(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_predicate'>predicate</span><span class='embexpr_end'>}</span><span class='tstring_content'>): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_objects'>objects</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='comment'># If there are multiple objects, and no :property_values is defined, call recursively with
</span>  <span class='comment'># each object
</span>
  <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:haml</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_template'>template</span> <span class='op'>||=</span> <span class='id identifier rubyid_haml_template'>haml_template</span><span class='lbracket'>[</span><span class='symbol'>:property_value</span><span class='rbracket'>]</span>

  <span class='comment'># Separate out the objects which are lists and render separately
</span>  <span class='id identifier rubyid_lists'>lists</span> <span class='op'>=</span> <span class='id identifier rubyid_objects'>objects</span><span class='period'>.</span>
    <span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:node?</span><span class='rparen'>)</span><span class='period'>.</span>
    <span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='const'>RDF</span><span class='op'>::</span><span class='const'>List</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_o'>o</span><span class='comma'>,</span> <span class='ivar'>@graph</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='period'>.</span>
    <span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_valid?'>valid?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_none?'>none?</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:literal?</span><span class='rparen'>)</span><span class='rbrace'>}</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_lists'>lists</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='comment'># Render non-list objects
</span>    <span class='id identifier rubyid_add_debug'>add_debug</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>properties with lists: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_lists'>lists</span><span class='embexpr_end'>}</span><span class='tstring_content'> non-lists: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_objects'>objects</span> <span class='op'>-</span> <span class='id identifier rubyid_lists'>lists</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:subject</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_nl'>nl</span> <span class='op'>=</span> <span class='id identifier rubyid_depth'>depth</span> <span class='lbrace'>{</span><span class='id identifier rubyid_render_property'>render_property</span><span class='lparen'>(</span><span class='id identifier rubyid_predicate'>predicate</span><span class='comma'>,</span> <span class='id identifier rubyid_objects'>objects</span> <span class='op'>-</span> <span class='id identifier rubyid_lists'>lists</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:subject</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rbrace'>}</span> <span class='kw'>unless</span> <span class='id identifier rubyid_objects'>objects</span> <span class='op'>==</span> <span class='id identifier rubyid_lists'>lists</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:subject</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_nl'>nl</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='id identifier rubyid_lists'>lists</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_list'>list</span><span class='op'>|</span>
      <span class='comment'># Render each list as multiple properties and set :inlist to true
</span>      <span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_each_statement'>each_statement</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_st'>st</span><span class='op'>|</span> <span class='id identifier rubyid_subject_done'>subject_done</span><span class='lparen'>(</span><span class='id identifier rubyid_st'>st</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span><span class='rparen'>)</span><span class='rbrace'>}</span>

      <span class='id identifier rubyid_add_debug'>add_debug</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>list: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_depth'>depth</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_render_collection'>render_collection</span><span class='lparen'>(</span><span class='id identifier rubyid_predicate'>predicate</span><span class='comma'>,</span> <span class='id identifier rubyid_list'>list</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='op'>|</span>
          <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_objects'>objects</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='comment'># Render each property using property_value template
</span>    <span class='id identifier rubyid_objects'>objects</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='op'>|</span>
      <span class='id identifier rubyid_depth'>depth</span> <span class='lbrace'>{</span><span class='id identifier rubyid_render_property'>render_property</span><span class='lparen'>(</span><span class='id identifier rubyid_predicate'>predicate</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_object'>object</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='rbrace'>}</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RDF</span><span class='op'>::</span><span class='const'>WriterError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Missing property template</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_template'>template</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
      <span class='label'>object:</span>     <span class='id identifier rubyid_objects'>objects</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span>
      <span class='label'>predicate:</span>  <span class='id identifier rubyid_predicate'>predicate</span><span class='comma'>,</span>
      <span class='label'>property:</span>   <span class='id identifier rubyid_get_qname'>get_qname</span><span class='lparen'>(</span><span class='id identifier rubyid_predicate'>predicate</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>recurse:</span>    <span class='ivar'>@depth</span> <span class='op'>&lt;=</span> <span class='ivar'>@max_depth</span>
    <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_hamlify'>hamlify</span><span class='lparen'>(</span><span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_subject-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>render_subject</strong>(subject, predicates, options = {}) {|predicate| ... } <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Render a subject using <code>haml_template[:subject]</code>.</p>

<p>The <em>subject</em> template may be called either as a top-level element, or recursively under another element if the <em>rel</em> local is not nil.</p>

<p>For RDF/XML, removes from predicates those that can be rendered as attributes, and adds the <code>:attr_props</code> local for the Haml template, which includes all attributes to be rendered as properties.</p>

<p>Yields each predicate/property to be rendered separately (@see #render_property_value and <code>#render_property_values</code>).</p>

<p>Return Haml template for document from <code>haml_template[:subject]</code></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>subject</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">RDF::Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Subject to render</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>predicates</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../Resource.html" title="RDF::Resource (module)">RDF::Resource</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Predicates of subject. Each property is yielded for separate rendering.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../Hash.html" title="Hash (class)">Hash</a></span>{<span class='object_link'><a href="../../Symbol.html" title="Symbol (class)">Symbol</a></span> =&gt; <span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Rendering options passed to Haml render.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">about</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>About description, a CURIE, URI or Node definition.
May be nil if no @about is rendered (e.g. unreferenced Nodes)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">resource</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Resource description, a CURIE, URI or Node definition.
May be nil if no @resource is rendered</p>
</div>
          
        </li>
      
        <li>
          <span class="name">rel</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Optional @rel property description, a CURIE, URI or Node definition.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">typeof</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>RDF type as a CURIE, URI or Node definition.
If :about is nil, this defaults to the empty string (&quot;&quot;).</p>
</div>
          
        </li>
      
        <li>
          <span class="name">element</span>
          <span class="type">(<tt>:li</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Render with &lt;li&gt;, otherwise with template default.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">haml</span>
          <span class="type">(<tt><span class='object_link'><a href="../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>haml_template[:subject]</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Haml template to render.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>predicate</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Yields each predicate</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>predicate</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../URI.html" title="RDF::URI (class)">RDF::URI</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Returns:</p>
<ul class="yieldreturn">
  
    <li>
      
      
        <span class='type'>(<tt>:ignored</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>String
The rendered document is returned as a string</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 139</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_subject'>render_subject</span><span class='lparen'>(</span><span class='id identifier rubyid_subject'>subject</span><span class='comma'>,</span> <span class='id identifier rubyid_predicates'>predicates</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='comment'># extract those properties that can be rendered as attributes
</span>  <span class='id identifier rubyid_attr_props'>attr_props</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='lbracket'>[</span><span class='symbol'>:untyped</span><span class='comma'>,</span> <span class='symbol'>:typed</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='ivar'>@attributes</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:property_values</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_memo'>memo</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_prop'>prop</span><span class='comma'>,</span> <span class='id identifier rubyid_values'>values</span><span class='rparen'>)</span><span class='op'>|</span>
      <span class='id identifier rubyid_object'>object</span> <span class='op'>=</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_literal?'>literal?</span> <span class='op'>&amp;&amp;</span>
        <span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_plain?'>plain?</span> <span class='op'>||</span> <span class='ivar'>@attributes</span> <span class='op'>==</span> <span class='symbol'>:typed</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
        <span class='id identifier rubyid_get_lang'>get_lang</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

        <span class='id identifier rubyid_memo'>memo</span><span class='lbracket'>[</span><span class='id identifier rubyid_get_qname'>get_qname</span><span class='lparen'>(</span><span class='const'>RDF</span><span class='op'>::</span><span class='const'>URI</span><span class='lparen'>(</span><span class='id identifier rubyid_prop'>prop</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_memo'>memo</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_predicates'>predicates</span> <span class='op'>-=</span> <span class='id identifier rubyid_attr_props'>attr_props</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_expand_curie'>expand_curie</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_subject'>subject</span><span class='comma'>,</span> <span class='id identifier rubyid_predicates'>predicates</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:attr_props</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_attr_props'>attr_props</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="write_epilogue-instance_method">
  
    - (<tt><span class='object_link'><a href="../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>write_epilogue</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98
99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'vendor/bundler/ruby/2.1.0/bundler/gems/rdf-rdfxml-81e6e37bc560/lib/rdf/rdfxml/writer.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write_epilogue'>write_epilogue</span>
  <span class='ivar'>@force_RDF_about</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@max_depth</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:max_depth</span><span class='comma'>,</span> <span class='int'>10</span><span class='rparen'>)</span>
  <span class='ivar'>@attributes</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:attributes</span><span class='comma'>,</span> <span class='symbol'>:none</span><span class='rparen'>)</span>

  <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Sat Apr 11 14:44:22 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.5).
</div>

  </body>
</html>